# Проект по анализу транзакций

## Описание

Данный проект представляет собой приложение для анализа транзакций, которые находятся в Excel-файле. Приложение позволяет генерировать JSON-данные для веб-страниц, формировать Excel-отчеты, а также предоставляет другие сервисы, такие как анализ выгодных категорий кешбэка и функция "Инвесткопилка".

## Функциональность

- **Главная страница**: 
  - Приветствие в зависимости от времени суток.
  - Информация по каждой карте: последние 4 цифры номера карты, общая сумма расходов и кешбэк.
  - Топ-5 транзакций по сумме платежа.
  - Курс валют и стоимость акций.

- **Страница событий**:
  - Общая сумма расходов и поступлений.
  - Расходы по категориям.
  - Курс валют и стоимость акций.

- **Сервисы**:
  - Анализ выгодных категорий повышенного кешбэка.
  - Функция "Инвесткопилка" для округления расходов и накопления средств.
  - Простой поиск транзакций по описанию или категории.

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone <https://github.com/choz163/coursework1.git>
   cd <coursework_1>
Копировать

Установите зависимости с помощью Poetry:

poetry install
Копировать

Создайте файл .env в корневом каталоге проекта и добавьте ваш API ключ:
API_KEY=f98ee1d2c0fbccb39e80f2d528735b0e

## Зависимости

Для работы проекта необходимы следующие библиотеки:

openpyxl: библиотека для работы с XLSX-файлами.

json: встроенная библиотека для работы с JSON.

csv: встроенная библиотека для работы с CSV.

codecs: встроенная библиотека для работы с кодировками.

os: встроенная библиотека для работы с файловой системой.

Если вы используете pip, вы можете установить библиотеку openpyxl с помощью команды pip install openpyxl.


## Использование
python = "^3.12"
openpyxl = "^3.1.5"
flake8 = "^7.1.1"
mypy = "^1.13.0"
black = "^24.10.0"
isort = "^5.13.2"

Запустите проект:
poetry run python src/main.py
Копировать

Результаты работы приложения будут выведены в консоль в формате JSON.

Пример JSON-ответа для главной страницы:


{
    "greeting": "Добрый день",
    "cards": [
        {
            "last_digits": "7197",
            "total_spent": -2319507.75,
            "cashback": 0.0
        },
        {
            "last_digits": "5091",
            "total_spent": -14918.16,
            "cashback": 0.0
        }
    ],
    "top_transactions": [
        {
            "Дата операции": "2019-03-21 17:01:38",
            "Сумма операции": 190044.51,
            "Категория": "Переводы",
            "Описание": "Перевод Кредитная карта. ТП 10.2 RUR"
        }
    ],
    "currency_rates": {
        "USD/RUB": 63.5018
    },
    "stock_prices": {
        "AAPL": 231.12
    }
}
